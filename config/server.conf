# Central Server Configuration File
# Public Transport Protocol Server

[server]
port = 8080
bind_address = 0.0.0.0
max_connections = 1000
connection_timeout = 300
enable_ipv6 = true

tcp_keepalive = true
tcp_nodelay = true
socket_reuse_addr = true
socket_reuse_port = true

[security]
enable_tls = true
cert_file = certs/server.crt
key_file = certs/server.key
ca_file = certs/ca.crt
tls_handshake_timeout = 10
require_authentication = true

[database]
database_path = /var/lib/transport-protocol/central_server.db
pool_size = 10
backup_interval = 3600

wal_mode = true
synchronous = NORMAL
cache_size = 10000

[logging]
log_file = /var/log/transport-protocol/central_server.log
log_level = INFO
max_log_size = 10485760
max_log_files = 5
# Linux syslog integration
use_syslog = true
syslog_facility = LOG_DAEMON

[network]
heartbeat_interval = 30
session_timeout = 3600
socket_buffer_size = 65536
enable_keepalive = true

[pricing]
# Base prices in local currency units (e.g., KM for Bosnia)
bus_individual = 1.0
tram_individual = 1.0
trolleybus_individual = 1.0

bus_group_family = 3.0
tram_group_family = 3.0
trolleybus_group_family = 3.0

bus_group_business = 5.0
tram_group_business = 5.0
trolleybus_group_business = 5.0

bus_group_tourist = 4.0
tram_group_tourist = 4.0
trolleybus_group_tourist = 4.0

# Distance multipliers (price per stop/km)
bus_distance_multiplier = 0.5
tram_distance_multiplier = 0.3
trolleybus_distance_multiplier = 0.4

# Time multipliers (price per minute)
time_multiplier = 0.1

[discounts]
# Age-based discounts (percentage)
student_discount = 30.0
senior_discount = 25.0
child_discount = 50.0

# Group discounts (percentage)
family_group_discount = 15.0
business_group_discount = 10.0
tourist_group_discount = 20.0

# Time-based discounts (percentage)
peak_hours_discount = 0.0
off_peak_discount = 15.0
night_discount = 25.0

# Peak hours (24-hour format)
peak_start = 07:00
peak_end = 09:00
peak_evening_start = 17:00
peak_evening_end = 19:00

[capacity]
# Default vehicle capacities
bus_capacity = 50
tram_capacity = 40
trolleybus_capacity = 35

# Reservation limits
max_reservations_per_user = 5
reservation_timeout = 900

[regional]
# Regional server configuration
enable_regional_sync = true
sync_interval = 300
regional_servers = server1.example.com:8081,server2.example.com:8082

[multicast]
# Multicast configuration (limited use as per requirements)
enable_multicast = false
multicast_address = 224.0.0.1
multicast_port = 8888
multicast_ttl = 1
